<div id="carouselExampleIndicators" class="carousel slide">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
  </div>

  <div class="carousel-inner">
    <div class="carousel-item active" style="background-image: url(<%= asset_path('Untitled.png') %>);"></div>
    <div class="carousel-item" style="background-image: url(<%= asset_path('Untitled.png') %>);"></div>
    <div class="carousel-item" style="background-image: url(<%= asset_path('Untitled.png') %>);"></div>
  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<!-- Audio Player -->
<div id="music_player">
  <audio id="player" controls>
    <source src="<%= asset_path('happy_birthday.mp3') %>" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>
</div>

<!-- Music Icon -->
<button id="music_icon" class="btn btn-sm btn-music-icon">
  <i class="fas fa-headphones" style="color: #ffffff;"></i>
</button>
<style>
.btn-music-icon {
  background-color: #FF69B4; /* Shocking pink background */
  color: white; /* White icon */
  border-color: #FF69B4; /* Pink border to match the background */
  padding: 0.2rem 0.4rem; /* Smaller padding to reduce button size */
  line-height: 1; /* Adjust line height to align the icon vertically */
  border-radius: 0.5rem; /* Rounded corners, can be adjusted for a more 'icon' look */
}

.btn-music-icon:hover {
  background-color: #ff85b4; /* Lighter pink on hover */
  border-color: #ff85b4; /* Lighter pink border on hover */
}

.btn-music-icon .fas {
  color: white; /* Ensures the icon is white */
}

/* Plyr Audio Player Customization */
.plyr--audio .plyr__control,
.plyr--audio .plyr__control.plyr__tab-focus,
.plyr--audio .plyr__control:hover,
.plyr--audio .plyr__control--overlaid {
  background-color: #FF69B4; /* Shocking pink background */
  color: white; /* White text/icons */
}

.plyr--audio .plyr__progress--played,
.plyr--audio .plyr__volume--display,
.plyr__progress__buffer,
.plyr--full-ui input[type='range'] {
  color: #FF69B4; /* Pink color for the slider */
}

.plyr__control--overlaid {
  box-shadow: none; /* Remove shadow for a flat style if desired */
}

/* The container for the player to center it at the bottom */
#music_player {
  position: fixed;
  left: 10%;
  bottom: 10px;
  transform: translateX(-50%);
  z-index: 1000;
  width: auto; /* Or specify a width */
}

/* Make sure the player itself fills its container */
#player {
  width: 100%;
}

/* Remove default Plyr styling */
.plyr--audio .plyr__controls {
  background-color: #d396da;
  box-shadow: none;
  border: none;
}

/* Target the volume input range specifically for Webkit browsers */
::-webkit-slider-runnable-track {
  background-color: #FF69B4;
}

::-webkit-slider-thumb {
  background-color: #FF1493;
}

/* Target the volume input range for Mozilla Firefox */
::-moz-range-track {
  background-color: #FF69B4;
}

::-moz-range-thumb {
  background-color: #FF1493;
}

/* Target the volume input range for Microsoft Edge */
::-ms-fill-lower {
  background-color: #FF69B4;
}

::-ms-fill-upper {
  background-color: #FF69B4;
}

::-ms-thumb {
  background-color: #FF1493;
}
  #music_player.hidden {
    bottom: -100%;
  }

  #music_icon {
    position: fixed;
    bottom: 10px;
    left: 10px;
    font-size: 30px;
    color: #000;
    cursor: pointer;
    z-index: 101;
    display: none;
  }

  .carousel-item {
    height: 100vh;
    min-height: 600px;
    background: no-repeat center center scroll;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
  }
</style>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const player = new Plyr('#player');
  const musicPlayer = document.getElementById('music_player');
  const musicIcon = document.getElementById('music_icon');
  let hideTimeout;

  const hidePlayer = () => {
    musicPlayer.classList.add('hidden');
    musicIcon.style.display = 'block';
  };

  const showPlayer = () => {
    musicPlayer.classList.remove('hidden');
    musicIcon.style.display = 'none';
    clearTimeout(hideTimeout);
    hideTimeout = setTimeout(hidePlayer, 6000); // Hide again after 5 seconds
  };

  // Initially hide the audio player after 5 seconds
  hideTimeout = setTimeout(hidePlayer, 6000);

  // Toggle the audio player when the icon is clicked
  musicIcon.addEventListener('click', () => {
    if (musicPlayer.classList.contains('hidden')) {
      showPlayer();
    } else {
      hidePlayer();
    }
  });
});
</script>